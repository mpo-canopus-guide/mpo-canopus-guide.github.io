<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPO Canopus v12 Workflow Guide</title>
    <meta name="description" content="Complete guide to asteroid lightcurve analysis using MPO Canopus Version 12">
    <style>
        /* --- RESET & BASICS --- */
        * { box-sizing: border-box; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            /* DARK MODE COLORS */
            color: #e0e0e0;
            background-color: #121212;
            margin: 0;
        }

        /* --- GLOSSARY POPUPS --- */
        .glossary-term {
            border-bottom: 1px dotted #4da6ff;
            cursor: help;
            position: relative;
            color: #66b3ff;
        }
        .glossary-term:hover::after {
            content: attr(data-definition);
            position: absolute;
            background: #252525;
            color: #e0e0e0;
            padding: 10px;
            border-radius: 4px;
            width: 300px;
            z-index: 100;
            left: 0;
            top: 100%;
            font-size: 14px;
            line-height: 1.4;
            border: 1px solid #4da6ff;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .glossary-term-code {
            font-family: monospace;
            color: #ffd54f;
        }

        /* --- SIDEBAR NAVIGATION --- */
        .sidenav {
            height: 100%;
            width: 260px;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #1a1a1a;
            overflow-x: hidden;
            padding-top: 20px;
            border-right: 1px solid #333;
        }

        .sidenav a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 15px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }

        .sidenav a:hover {
            color: #f1f1f1;
            background-color: #333;
        }

        .sidenav h3 {
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            border-bottom: 1px solid #333;
            padding-bottom: 10px;
        }

        /* --- MAIN CONTENT CONTAINER --- */
        .container {
            margin-left: 260px; /* SAME WIDTH AS SIDEBAR */
            padding: 40px 60px;
            max-width: 1100px;
            background-color: #1e1e1e;
            min-height: 100vh;
        }

        /* --- TYPOGRAPHY & ELEMENTS --- */
        header {
            border-bottom: 2px solid #4da6ff;
            margin-bottom: 40px;
            padding-bottom: 20px;
            text-align: center;
        }

        h1 { color: #ffffff; font-size: 2.5em; margin-bottom: 10px; }
        h2 { color: #4da6ff; border-bottom: 1px solid #444; padding-bottom: 10px; margin-top: 50px; }
        h3 { color: #a3d1ff; margin-top: 30px; }
        h4 { color: #cce5ff; margin-top: 20px; }

        a { color: #66b3ff; text-decoration: none; }
        a:hover { text-decoration: underline; }

        p, ul, ol { color: #d1d1d1; }
        li { margin-bottom: 8px; }

        /* --- TABLES --- */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #252525;
        }
        th { background-color: #333; color: #fff; padding: 12px; border: 1px solid #444; text-align: left;}
        td { padding: 12px; border: 1px solid #444; color: #ddd; }
        tr:hover { background-color: #2d2d2d; }

        /* --- ALERTS & BOXES --- */
        .warning {
            background: #332b00;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            color: #fff;
        }
        .warning strong { color: #ffd54f; }

        .tip {
            background: #002a33;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            color: #fff;
        }
        .tip strong { color: #4dd0e1; }

        .note {
            background: #0d2138;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            color: #fff;
        }
        .note strong { color: #64b5f6; }

        /* --- INTERACTIVE ELEMENTS --- */
        .interactive-list {
            list-style: none;
            padding: 0;
        }
        .interactive-list li {
            background: #1e1e1e;
            margin-bottom: 8px;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 4px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background 0.2s;
        }
        .interactive-list li:hover {
            background: #252525;
        }
        .interactive-list input[type="checkbox"] {
            margin-right: 15px;
            transform: scale(1.5);
            cursor: pointer;
            accent-color: #4da6ff;
        }
        .interactive-list label {
            display: flex;
            align-items: center;
            cursor: pointer;
            width: 100%;
        }

        /* --- UTILS --- */
        .download-btn {
            display: inline-block;
            background: #2e7d32;
            color: white;
            padding: 12px 30px;
            border-radius: 5px;
            text-decoration: none;
            margin: 10px;
            font-weight: 600;
            border: 1px solid #1b5e20;
        }

        footer {
            color: #888;
            border-top: 1px solid #444;
            margin-top: 60px;
            padding-top: 20px;
            text-align: center;
        }

        @media screen and (max-width: 800px) {
            .sidenav { width: 100%; height: auto; position: relative; }
            .sidenav a { float: left; padding: 15px; }
            .container { margin-left: 0; }
        }
    </style>
</head>
<body>
    <div class="sidenav">
        <h3>Workflow Guide</h3>
        <a href="#introduction">1. Introduction</a>
        <a href="#phase0">2. Prerequisites</a>
        <a href="#phase1">3. Setup & Loading</a>
        <a href="#phase2">4. Aperture Config</a>
        <a href="#phase3">5. Star Selection</a>
        <a href="#phase4">6. Measurement</a>
        <a href="#phase5">7. Period Analysis</a>
        <a href="#phase6">8. Export/Report</a>
        <a href="#troubleshooting">9. Troubleshooting</a>
        <a href="#advanced">10. Advanced</a>
        <a href="#checklist">11. Checklist</a>
        <a href="#resources">12. Resources</a>
    </div>

    <div class="container">
        <header>
            <h1>MPO Canopus v12 Workflow</h1>
            <p class="subtitle">Complete Guide to Asteroid Lightcurve Analysis</p>
            <p class="subtitle">From Raw <span class="glossary-term" data-definition="Flexible Image Transport System: The standard digital file format used in astronomy to store images, data, and metadata (headers).">FITS</span> to Publication-Ready Results</p>
            <p class="last-updated">Last Updated: February 3, 2026</p>
        </header>

        <section>
            <h2>Abstract</h2>
            <p>This comprehensive guide provides a step-by-step workflow for asteroid lightcurve photometry using MPO Canopus Version 12. It covers the complete pipeline from image loading and quality assessment through photometric measurement, period analysis, and <span class="glossary-term" data-definition="Asteroid Lightcurve Data Exchange Format: The international standard for reporting asteroid photometry to the Minor Planet Center.">ALCDEF</span> export. Special emphasis is placed on data quality control, <span class="glossary-term" data-definition="The precision and reliability of brightness measurements, affected by factors like aperture size, comparison star selection, and calibration.">photometric accuracy</span>, and troubleshooting common issues.</p>
        </section>

        <div class="downloads">
            <h3>Downloads</h3>
            <a href="MPO_Canopus_Guide.pdf" class="download-btn">ðŸ“¥ Download PDF Version</a>
        </div>

        <section id="introduction">
            <h2>1. Introduction</h2>
            <p>MPO Canopus v12 is a specialized software package for asteroid photometry and lightcurve analysis. This guide assumes you have:</p>
            <ul>
                <li>Basic familiarity with astronomical imaging and <span class="glossary-term" data-definition="Flexible Image Transport System: The standard digital file format used in astronomy to store images, data, and metadata (headers).">FITS</span> file format</li>
                <li>Calibrated images (<span class="glossary-term" data-definition="
                  <strong>Bias Frame:</strong> Zero-second exposure to measure electronic offset.<br>
                  <strong>Dark Frame:</strong> Exposure with no light to measure thermal noise.<br>
                  <strong>Flat Frame:</strong> Exposure of a uniformly illuminated field to correct pixel sensitivity.
                ">bias/dark/flat</span> corrected)</li>
                <li>A basic understanding of <span class="glossary-term" data-definition="Measuring an object's brightness relative to comparison stars rather than to an absolute calibration standard.">differential photometry</span> principles</li>
            </ul>

            <h3>1.1 Workflow Overview</h3>
            <p>The complete workflow consists of six main phases:</p>
            <ol>
                <li><strong>Prerequisites & Quality Control</strong> â€” Validate image quality</li>
                <li><strong>Setup & Image Loading</strong> â€” Configure software and import data</li>
                <li><strong>Aperture Configuration</strong> â€” Set photometric parameters</li>
                <li><strong>Target & Star Selection</strong> â€” Identify asteroid and <span class="glossary-term" data-definition="A non-variable star in the same field of view as the target asteroid, used as a reference for differential photometry.">comparison stars</span></li>
                <li><strong>Measurement</strong> â€” Execute photometry</li>
                <li><strong>Analysis & Export</strong> â€” Determine period and generate outputs</li>
            </ol>
        </section>

        <section id="phase0">
            <h2>2. Phase 0: Prerequisites & Image Quality Assessment</h2>

            <div class="warning">
                <strong>WARNING:</strong> Poor quality images will produce unreliable lightcurves regardless of analysis technique. Always perform quality checks before loading data into Canopus.
            </div>

            <h3>2.1 Required Image Preparation</h3>

            <h4>Calibration</h4>
            <p>All images must be calibrated with appropriate <span class="glossary-term" data-definition="
              <strong>Bias Frame:</strong> Zero-second exposure to measure electronic offset.<br>
              <strong>Dark Frame:</strong> Exposure with no light to measure thermal noise.<br>
              <strong>Flat Frame:</strong> Exposure of a uniformly illuminated field to correct pixel sensitivity.
            ">bias/dark</span> and <span class="glossary-term" data-definition="Exposure of a uniformly illuminated field to correct for pixel-to-pixel sensitivity variations and vignetting.">flat frames</span>. While Canopus can perform calibration, the standard v12 workflow assumes pre-calibrated data.</p>

            <h4>Plate Solving</h4>
            <p><span class="glossary-term" data-definition="The process of matching star patterns in an image to a star catalog to determine the exact celestial coordinates (RA/Dec) of the field of view.">Plate solving</span> and <span class="glossary-term" data-definition="World Coordinate System: FITS header information that maps pixel coordinates to celestial coordinates (RA/Dec), enabling automatic star identification and coordinate transformations.">WCS headers</span> are highly recommended. Plate-solved images enable:</p>
            <ul>
                <li>Automatic catalog star identification</li>
                <li>Accurate coordinate transformations</li>
                <li>Faster processing</li>
                <li>HJD or BJD corrections</li>
            </ul>

            <h4>File Organization</h4>
            <p>Store all images for a single observing session in one dedicated folder with consistent naming convention.</p>

            <h3>2.2 Critical Quality Checks</h3>
            <p>Examine your images carefully before beginning photometry:</p>

            <div class="tip">
                <strong>PRO TIP:</strong> Use DS9, MaxIm DL, or similar software to batch-check <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span> and saturation levels before importing to Canopus. This saves time and prevents wasted processing effort.
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Check</th>
                        <th>What to Look For</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Star Shape</strong></td>
                        <td>Stars should be circular. Elongation or trailing indicates tracking errors. <em>Action:</em> Remove trailed images.</td>
                    </tr>
                    <tr>
                        <td><strong>Saturation</strong></td>
                        <td>Check histogram and peak pixel values. Target and comparison stars must be below saturation threshold (typically &lt;60,000 <span class="glossary-term" data-definition="Analog-to-Digital Unit: The raw count value from a CCD/CMOS sensor, related to photon flux by the cameraâ€™s gain.">ADU</span> for 16-bit, &lt;4,000 for 12-bit). <em>Action:</em> Exclude saturated frames.</td>
                    </tr>
                    <tr>
                        <td><strong>FWHM</strong></td>
                        <td><span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span> should be consistent across the session (Â±20%). Large variations suggest focus drift or changing seeing. <em>Action:</em> Note FWHM for aperture sizing; consider excluding outliers.</td>
                    </tr>
                    <tr>
                        <td><strong>Background</strong></td>
                        <td>Sky background should be relatively uniform without significant gradients. <em>Action:</em> Check flat field quality if gradients present.</td>
                    </tr>
                    <tr>
                        <td><strong>Image Count</strong></td>
                        <td>Minimum 40â€“50 images recommended for robust period determination. More is better.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="phase1">
            <h2>3. Phase 1: Setup & Image Loading</h2>

            <h3>3.1 Launching the <span class="glossary-term" data-definition="A step-by-step guided interface in MPO Canopus for loading images, configuring apertures, selecting targets/comparison stars, and performing photometry. Replaces the older manual workflow in previous versions.">Asteroid Wizard</span></h3>
            <ol>
                <li>Launch MPO Canopus v12</li>
                <li>Navigate to: <strong>Photometry â†’ Multi-image Photometry â†’ Asteroid Wizard</strong></li>
                <li>The wizard interface replaces the older manual photometry workflow used in earlier Canopus versions</li>
            </ol>

            <h3>3.2 <span class="glossary-term" data-definition="A saved configuration in MPO Canopus that stores telescope, camera, and observatory settings for consistent photometry.">Equipment Profile</span> Selection</h3>
            <ol start="4">
                <li>When prompted, select the equipment profile matching your telescope and camera setup</li>
                <li>If no profile exists: <strong>File â†’ Configuration</strong> to create one</li>
                <li>Profile stores critical parameters:
                    <ul>
                        <li>Telescope aperture and focal length</li>
                        <li>Camera pixel size and gain</li>
                        <li>Default aperture settings</li>
                        <li>Observatory location (for HJD corrections)</li>
                    </ul>
                </li>
            </ol>

            <h3>3.3 Loading Images</h3>
            <ol start="7">
                <li>Click the <strong>Select Images</strong> tab</li>
                <li>Click <strong>Folder</strong> and navigate to your <span class="glossary-term" data-definition="Flexible Image Transport System: The standard digital file format used in astronomy to store images, data, and metadata (headers).">FITS</span> directory</li>
                <li>Select all files (Ctrl+A or Cmd+A)</li>
                <li>Configure display options:
                    <ul>
                        <li><strong>Review:</strong> Set to "No" for faster loading if you've pre-validated images</li>
                        <li><strong>Scaling:</strong> "Auto" or "Compressed" to visualize faint stars</li>
                    </ul>
                </li>
                <li>Click <strong>Load</strong></li>
            </ol>

            <div class="note">
                <strong>NOTE:</strong> Canopus will read <span class="glossary-term" data-definition="World Coordinate System: FITS header information that maps pixel coordinates to celestial coordinates (RA/Dec), enabling automatic star identification and coordinate transformations.">WCS headers</span> to extract observation time, exposure duration, and coordinates. Verify that times are correctly extracted (check the image list for JD values).
            </div>
        </section>

        <section id="phase2">
            <h2>4. Phase 2: Aperture & Photometry Configuration</h2>

            <div class="warning">
                <strong>WARNING:</strong> Aperture sizing is the single most important parameter affecting <span class="glossary-term" data-definition="The precision and reliability of brightness measurements, affected by factors like aperture size, comparison star selection, and calibration.">photometric accuracy</span>. Inappropriate apertures are a leading cause of noisy lightcurves.
            </div>

            <h3>4.1 Understanding <span class="glossary-term" data-definition="A technique for measuring the brightness of a star or asteroid by summing the pixel values within a defined circular region (aperture) around the object.">Aperture Photometry</span></h3>
            <p>Canopus uses aperture photometry with three concentric regions:</p>
            <ol>
                <li><strong>Measuring Aperture</strong> â€” Circular region centered on the star, capturing stellar flux</li>
                <li><strong>Gap</strong> â€” Separation zone to avoid contamination</li>
                <li><strong>Sky Annulus</strong> â€” Ring region for background measurement (defined by inner and outer radii)</li>
            </ol>

            <h3>4.2 Setting Aperture Parameters</h3>
            <p>Access via: <strong>Configuration â†’ Photometry Settings</strong> or directly in the wizard.</p>

            <table>
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Value</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Aperture Radius</strong></td>
                        <td>1.5â€“2.5Ã— <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span></td>
                        <td>Example: FWHM = 3 px â†’ radius 5â€“7 px</td>
                    </tr>
                    <tr>
                        <td><strong>Gap</strong></td>
                        <td>2â€“5 pixels</td>
                        <td>Prevents star wings contaminating sky</td>
                    </tr>
                    <tr>
                        <td><strong>Sky Inner Radius</strong></td>
                        <td>r<sub>ap</sub> + gap</td>
                        <td>Begin sky annulus outside gap</td>
                    </tr>
                    <tr>
                        <td><strong>Sky Outer Radius</strong></td>
                        <td>r<sub>inner</sub> + 10â€“20 px</td>
                        <td>Sufficient area for robust statistics</td>
                    </tr>
                    <tr>
                        <td><strong>Sky Algorithm</strong></td>
                        <td>Median</td>
                        <td>Robust against cosmic rays & hot pixels. Alternative: Mode for crowded fields</td>
                    </tr>
                </tbody>
            </table>

            <h3>4.3 The Goldilocks Zone: Optimal Aperture Sizing</h3>
            <p>Choosing the correct aperture size is critical. Here's what happens with different choices:</p>
            <ul>
                <li><strong>Too Small (r &lt; 1.5Ã—FWHM):</strong> Missing flux from star wings â†’ systematic errors, especially in varying seeing</li>
                <li><strong>Optimal (r = 1.5â€“2.5Ã—FWHM):</strong> Captures &gt;95% of star flux while minimizing sky noise</li>
                <li><strong>Too Large (r &gt; 3Ã—FWHM):</strong> Excessive sky noise dominates â†’ poor <span class="glossary-term" data-definition="The ratio of the detected signal (e.g., light from a star) to the background noise (e.g., sky glow, sensor noise). Higher SNR yields more precise photometry.">signal-to-noise ratio</span></li>
            </ul>

            <div class="tip">
                <strong>PRO TIP - How to determine FWHM:</strong>
                <ol>
                    <li>Use Canopus's built-in <span class="glossary-term" data-definition="A tool in MPO Canopus for analyzing the intensity distribution of a starâ€™s image. Helps measure FWHM and assess star shape/quality.">star profile tool</span> on several non-saturated stars</li>
                    <li>Average the <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span> measurements</li>
                    <li>Round up to nearest pixel for aperture calculation</li>
                    <li>If FWHM varies significantly (&gt;20%), use the median value</li>
                </ol>
            </div>

            <h3>4.4 Visual Verification</h3>
            <ol>
                <li>Use the <strong><span class="glossary-term" data-definition="An interactive tool in MPO Canopus for visually adjusting and verifying the photometric aperture, gap, and sky annulus settings on an image. Helps ensure the aperture captures all stellar flux without contamination.">Aperture Tool</span></strong> to display apertures overlaid on an image</li>
                <li>Select a bright (but non-saturated) star</li>
                <li>Verify:
                    <ul>
                        <li>Measuring aperture contains all visible star flux</li>
                        <li>Sky annulus is free from nearby stars</li>
                        <li>Gap prevents star wings from entering sky region</li>
                    </ul>
                </li>
                <li>Examine the <span class="glossary-term" data-definition="A graph in MPO Canopus showing the intensity of a starâ€™s light as a function of distance from its center. Used to measure FWHM and verify aperture settings.">radial profile plot</span> if available</li>
            </ol>
        </section>

        <section id="phase3">
            <h2>5. Phase 3: Target & Comparison Star Selection</h2>

            <h3>5.1 Locating the Asteroid</h3>
            <ol>
                <li>The wizard displays the first image in your sequence</li>
                <li>Locate the asteroid. If difficult to find:
                    <ul>
                        <li>Use the <strong><span class="glossary-term" data-definition="A feature in MPO Canopus (and other astronomy software) that rapidly cycles through a sequence of images, creating an animation effect. Used to identify moving objects (e.g., asteroids) against the static background of stars.">Blink</span></strong> tool to animate frames</li>
                        <li>The moving object is the asteroid; background stars remain stationary</li>
                    </ul>
                </li>
                <li>Click on the asteroid â€” a red circle appears</li>
                <li>When prompted, locate and click the asteroid in the last image</li>
                <li>Canopus calculates the <span class="glossary-term" data-definition="The calculated direction and speed of an asteroidâ€™s movement across the image sequence. Used by MPO Canopus to predict the asteroidâ€™s position in subsequent frames.">motion vector</span> and predicts positions for all intermediate frames</li>
            </ol>

            <div class="warning">
                <strong>WARNING:</strong> If your observing session spans many hours, asteroid motion may be curved (not linear). For sessions &gt;6â€“8 hours, consider breaking the data into shorter blocks and combining lightcurves later.
            </div>

            <h3>5.2 Session Metadata Entry</h3>
            <p>Accurate metadata is essential for <span class="glossary-term" data-definition="Asteroid Lightcurve Data Exchange Format: The international standard for reporting asteroid photometry to the Minor Planet Center.">ALCDEF</span> export and scientific validity.</p>

            <table>
                <thead>
                    <tr>
                        <th>Field</th>
                        <th>Requirement</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Session Name</strong></td>
                        <td>Descriptive identifier (e.g., "MP1234 20231031")</td>
                    </tr>
                    <tr>
                        <td><strong>Object Number/Name</strong></td>
                        <td>Must match <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">MPC</span> designation exactly for catalog lookups</td>
                    </tr>
                    <tr>
                        <td><strong>Filter</strong></td>
                        <td>Accurate filter identification (V, R, I, Clear, etc.) affects magnitude calibration</td>
                    </tr>
                    <tr>
                        <td><strong>Observer Code</strong></td>
                        <td>Your <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">MPC</span> observatory code (if assigned)</td>
                    </tr>
                    <tr>
                        <td><strong>Exposure Time</strong></td>
                        <td>Usually auto-extracted from <span class="glossary-term" data-definition="FITS header information linking pixel coordinates to sky coordinates (RA/Dec).">FITS headers</span></td>
                    </tr>
                    <tr>
                        <td><strong>Time Format</strong></td>
                        <td><span class="glossary-term" data-definition="Heliocentric Julian Date: The Julian Date corrected for light-travel time to the Sunâ€™s center, removing Earth's orbital motion effects.">HJD</span> (Heliocentric Julian Date) recommended. Canopus can convert <span class="glossary-term" data-definition="Julian Date: A continuous count of days since January 1, 4713 BCE, used as a standard timekeeping system in astronomy.">JD</span> â†’ HJD if object coordinates are known</td>
                    </tr>
                </tbody>
            </table>

            <div class="note">
                <strong>Why HJD?</strong> Earth's orbital motion introduces timing variations up to Â±8 minutes. <span class="glossary-term" data-definition="The adjustment of observation times to account for the light-travel time from the asteroid to the Sunâ€™s center (HJD). Removes the effects of Earthâ€™s orbital motion on timing measurements, ensuring accurate period determination.">Heliocentric correction</span> corrects for this, ensuring accurate period determination when combining data from multiple observing runs.
            </div>

            <h3>5.3 Comparison Star Selection</h3>
            <p>Canopus will automatically identify candidate <span class="glossary-term" data-definition="A non-variable star in the same field of view as the target asteroid, used as a reference for differential photometry.">comparison stars</span> (marked with green or blue circles).</p>

            <h4>Selection Criteria</h4>
            <p>Choose 3â€“5 comparison stars based on:</p>
            <ol>
                <li><strong>Brightness Match:</strong>
                    <ul>
                        <li>Similar magnitude to the asteroid (within Â±2 mag ideally)</li>
                        <li>Ensures comparable <span class="glossary-term" data-definition="The ratio of the detected signal (e.g., light from a star) to the background noise (e.g., sky glow, sensor noise). Higher SNR yields more precise photometry.">signal-to-noise ratio</span></li>
                    </ul>
                </li>
                <li><strong>Non-Saturation:</strong>
                    <ul>
                        <li>Inspect star profiles â€” reject any with flat-topped peaks</li>
                        <li>Check pixel values if uncertain</li>
                    </ul>
                </li>
                <li><strong>Stability (Variable Star Check):</strong>
                    <ul>
                        <li>Cross-check against <span class="glossary-term" data-definition="Variable Star Index: An online database of known variable stars, used to check comparison stars for variability.">VSX</span> (Variable Star Index) database</li>
                        <li>Canopus can perform this check if catalog access is configured</li>
                        <li>Avoid known variables at all costs</li>
                    </ul>
                </li>
                <li><strong>Spatial Distribution:</strong>
                    <ul>
                        <li>Spread stars across the field of view</li>
                        <li>Don't cluster all comparisons in one corner</li>
                        <li>Helps average out field-dependent systematics (vignetting, etc.)</li>
                    </ul>
                </li>
                <li><strong>Color Match (Advanced):</strong>
                    <ul>
                        <li>Ideally, select stars with similar spectral type to the asteroid</li>
                        <li>Reduces <span class="glossary-term" data-definition="The wavelength-dependent dimming of starlight due to Earthâ€™s atmosphere, which affects stars at different altitudes differently. Can introduce systematic errors in photometry if comparison stars and target are at different airmasses.">differential extinction</span> and filter transformation errors</li>
                        <li>Often impractical; use similar brightness as primary criterion</li>
                    </ul>
                </li>
                <li><strong>Path Avoidance:</strong>
                    <ul>
                        <li>Ensure comparison stars don't lie in the asteroid's predicted path</li>
                        <li>Check motion vector overlay</li>
                    </ul>
                </li>
            </ol>

            <div class="tip">
                <strong>Check Star Technique:</strong> Designate one comparison star as a <span class="glossary-term" data-definition="A stable comparison star used to monitor the constancy of the comparison star ensemble and validate photometric accuracy.">check star</span> and monitor its constancy relative to other comparisons during analysis. A stable check star validates your comparison ensemble.
            </div>

            <h3>5.4 Understanding Differential vs. Calibrated Photometry</h3>

            <h4>Differential Photometry (Default)</h4>
            <p>Canopus measures the asteroid's brightness relative to comparison stars. This produces:</p>
            <ul>
                <li><span class="glossary-term" data-definition="The apparent magnitude of an object measured in a specific instrumental setup (telescope + camera + filter), without absolute calibration.">Instrumental magnitudes</span> (arbitrary zero-point)</li>
                <li>Excellent for period determination (only relative changes matter)</li>
                <li>Cannot be directly compared to catalog values</li>
            </ul>

            <h4>Calibrated Photometry (Optional)</h4>
            <p>For standard magnitudes:</p>
            <ol>
                <li>Obtain <span class="glossary-term" data-definition="Standardized brightness measurements for stars from astronomical catalogs (e.g., APASS, Gaia, 2MASS). Used to calibrate instrumental magnitudes to standard photometric systems.">catalog magnitudes</span> for your comparison stars from:
                    <ul>
                        <li><span class="glossary-term" data-definition="AAVSO Photometric All-Sky Survey: A catalog of precise photometric measurements for stars across the sky, used for calibrating comparison stars.">APASS</span></li>
                        <li>Gaia DR3</li>
                        <li>2MASS (for infrared)</li>
                        <li>Pan-STARRS</li>
                    </ul>
                </li>
                <li>Enter catalog magnitudes in: <strong><span class="glossary-term" data-definition="A tool in MPO Canopus for organizing, loading, and managing photometric sessions. Used to select sessions for analysis, review metadata, and export data.">Session Manager</span> â†’ Comparison Stars</strong></li>
                <li>Canopus will calculate <span class="glossary-term" data-definition="The apparent magnitude of an object calibrated to a standard photometric system (e.g., Johnson-Cousins V, R, I bands).">standard magnitudes</span></li>
                <li>Results can be compared to predicted asteroid magnitudes</li>
            </ol>

            <div class="note">
                <strong>NOTE:</strong> For most lightcurve work, differential photometry is sufficient. Calibration is necessary when reporting absolute magnitudes or combining data from different observatories.
            </div>
        </section>

        <section id="phase4">
            <h2>6. Phase 4: Photometric Measurement</h2>

            <h3>6.1 Executing the Measurement</h3>
            <ol>
                <li>Verify all settings (apertures, comp stars, metadata)</li>
                <li>Click the <strong>Measure</strong> button</li>
                <li>Canopus will iterate through all <span class="glossary-term" data-definition="Flexible Image Transport System: The standard digital file format used in astronomy to store images, data, and metadata (headers).">FITS</span> files, measuring:
                    <ul>
                        <li>Target asteroid at predicted positions</li>
                        <li>All comparison stars at fixed positions</li>
                        <li>Sky background in annuli</li>
                    </ul>
                </li>
            </ol>

            <h3>6.2 Monitoring the Process</h3>

            <div class="warning">
                <strong>Critical:</strong> Watch the measurement progress carefully. The red target aperture must accurately track the asteroid across all frames.
            </div>

            <p><strong>What to monitor:</strong></p>
            <ul>
                <li>Red aperture stays centered on the asteroid</li>
                <li>No aperture overlaps (target and comp stars)</li>
                <li>Progress bar advances smoothly</li>
                <li>No error messages about saturated or failed measurements</li>
            </ul>

            <p><strong>If tracking fails:</strong></p>
            <ol>
                <li>Stop the measurement immediately (Escape or Stop button)</li>
                <li>Return to target selection</li>
                <li>Re-click asteroid in first/last frames more precisely</li>
                <li>For long sessions, consider breaking into shorter blocks</li>
            </ol>

            <h4>Handling Non-Linear (Curved) Motion</h4>
            <p>For sessions exceeding 6â€“8 hours, asteroid motion often becomes non-linear, causing the fixed-path tracking to fail.</p>
            <ol>
                <li><strong>Data Segmentation:</strong> Break the session into 3â€“4 hour "blocks"</li>
                <li><strong>Measurement:</strong> Run the measurement wizard for the first block. Once complete, do not clear the <span class="glossary-term" data-definition="A collection of images, settings, and measurements in MPO Canopus representing a single observing run or analysis.">session</span></li>
                <li><strong>Stitching:</strong> Load the next block of images. MPO Canopus will treat these as a continuation. Re-center the target on the first frame of the new block; the software will calculate a new <span class="glossary-term" data-definition="The calculated direction and speed of an asteroidâ€™s movement across the image sequence. Used by MPO Canopus to predict the asteroidâ€™s position in subsequent frames.">motion vector</span> while preserving the photometric zero-point from the previous stars</li>
            </ol>

            <h3>6.3 Automatic Session Saving</h3>
            <p>Upon completion, Canopus automatically saves:</p>
            <ul>
                <li>Photometric data to the <span class="glossary-term" data-definition="The proprietary database format used by MPO Canopus to store photometric sessions, measurements, and metadata.">MPO database (.MDB)</span></li>
                <li>Session parameters and metadata</li>
                <li>Comparison star information</li>
            </ul>
            <p>Session name can be found in: <strong><span class="glossary-term" data-definition="The interface in MPO Canopus for loading, phasing, and analyzing photometric data.">Lightcurve Analysis</span> â†’ Sessions</strong></p>
        </section>

        <section id="phase5">
            <h2>7. Phase 5: Period Analysis with FALC</h2>

            <h3>7.1 Loading Data into Analysis Mode</h3>
            <ol>
                <li>Close the Photometry Wizard (if still open)</li>
                <li>Navigate to: <strong><span class="glossary-term" data-definition="The interface in MPO Canopus for loading, phasing, and analyzing photometric data.">Lightcurve Analysis</span></strong> (toolbar icon or Analysis menu)</li>
                <li>In the Analysis window:
                    <ul>
                        <li>Click <strong>Sessions</strong> (top-left panel)</li>
                        <li>Check the box next to your session name</li>
                        <li>Click <strong>Load</strong></li>
                    </ul>
                </li>
                <li>Raw data points appear in the main graph (unphased, time-series plot)</li>
            </ol>

            <h3>7.2 Understanding <span class="glossary-term" data-definition="Fourier Analysis of Light Curves: The algorithm in Canopus that determines the rotation period by fitting Fourier series to phased lightcurve data.">FALC</span></h3>
            <p>FALC (Fourier Analysis of Light Curves) determines the rotation period by:</p>
            <ol>
                <li>Testing a range of trial periods</li>
                <li>For each period, folding the lightcurve (wrapping time onto phase 0.0â€“1.0)</li>
                <li>Fitting a <span class="glossary-term" data-definition="A mathematical representation of a periodic function (e.g., a lightcurve) as a sum of sine and cosine waves. Used by FALC to model the asteroidâ€™s brightness variations and determine its rotation period.">Fourier series</span> to the phased data</li>
                <li>Computing the <span class="glossary-term" data-definition="Root Mean Square: A statistical measure of the scatter of data points around a fitted curve. Lower RMS indicates a better fit.">RMS</span> (Root Mean Square) residual</li>
                <li>Identifying the period with minimum RMS as the best-fit rotation period</li>
            </ol>

            <h3>7.3 Period Search Strategy</h3>

            <h4>Step 1: Coarse Search</h4>
            <ol>
                <li>Locate the FALC panel (typically right side of Analysis window)</li>
                <li>Set search parameters:
                    <ul>
                        <li><strong>Start:</strong> Lower period bound (e.g., 2.0 hours)</li>
                        <li><strong>Stop:</strong> Upper period bound (e.g., 20.0 hours)</li>
                        <li><strong>Step:</strong> Coarse step size (e.g., 0.1 hours)</li>
                        <li><strong>Order:</strong> Start with 2 or 3</li>
                    </ul>
                </li>
                <li>Click <strong>Find Period</strong> or <strong>Search</strong></li>
                <li>Examine the <span class="glossary-term" data-definition="A plot generated by FALC showing the RMS (Root Mean Square) residual versus trial period. Peaks and minima in the spectrum indicate candidate rotation periods for the asteroid.">Period Spectrum</span> (periodogram) that appears</li>
            </ol>

            <div class="tip">
                <strong>Choosing the search range:</strong>
                <ul>
                    <li>Main-belt asteroids: typically 4â€“12 hours</li>
                    <li>Near-Earth asteroids: can be 2â€“30+ hours</li>
                    <li>If unsure, search 2â€“24 hours initially</li>
                    <li>Very slow rotators (&gt;24 hr) may require multi-night data</li>
                </ul>
            </div>

            <h4>Step 2: Identifying Candidate Periods</h4>
            <p>The period spectrum shows RMS error vs. trial period:</p>
            <ul>
                <li>Deep minima (low RMS) indicate good period candidates</li>
                <li>Multiple minima are common â€” requires further investigation</li>
                <li>Lowest global minimum is the primary candidate</li>
            </ul>

            <p><strong>How to Distinguish True Periods from Aliases:</strong></p>
            <ol>
                <li><strong>True period:</strong> Deepest RMS minimum, produces clean double-peaked lightcurve</li>
                <li><strong>Daily aliases (12h, 24h):</strong> Artifacts of observing cadence. Test by:
                    <ul>
                        <li>Adding data from different nights (breaks the 24h pattern)</li>
                        <li>Checking if lightcurve morphology makes physical sense</li>
                    </ul>
                </li>
                <li><strong>Harmonics (2Ã—P, 3Ã—P):</strong> Integer multiples of true period. Usually shallower minima</li>
            </ol>

            <h4>Step 3: Fine Search</h4>
            <ol>
                <li>Note the period(s) with lowest RMS from coarse search</li>
                <li>Set a narrow search range around the best candidate:
                    <ul>
                        <li><strong>Start:</strong> Best period âˆ’0.5 hours</li>
                        <li><strong>Stop:</strong> Best period +0.5 hours</li>
                        <li><strong>Step:</strong> Fine step (0.01 or 0.001 hours)</li>
                    </ul>
                </li>
                <li>Re-run FALC</li>
                <li>The refined minimum gives your final period estimate</li>
            </ol>

            <h4>Step 4: Optimizing <span class="glossary-term" data-definition="The number of terms (harmonics) used in the Fourier series to fit the lightcurve. Higher orders can fit more complex shapes but risk overfitting.">Fourier Order</span></h4>
            <ol>
                <li>With the best period selected, experiment with Fourier order:
                    <ul>
                        <li><strong>Order = 2:</strong> Double-peaked, sinusoidal lightcurve</li>
                        <li><strong>Order = 3â€“4:</strong> Asymmetric or complex shapes</li>
                        <li><strong>Order = 5+:</strong> May <span class="glossary-term" data-definition="Fitting a model (e.g., high-order Fourier series) too closely to the noise in the data, rather than the true signal. Can lead to misleading or unrealistic lightcurve shapes.">overfit</span> noise (use cautiously)</li>
                    </ul>
                </li>
                <li>Choose the minimum order that adequately represents the lightcurve shape</li>
                <li>Higher orders reduce RMS but risk fitting noise rather than signal</li>
            </ol>

            <table>
                <thead>
                    <tr>
                        <th>Order</th>
                        <th>When to Use</th>
                        <th>Physical Interpretation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>2</strong></td>
                        <td>Default for most asteroids<br>â€¢ Clean double-peaked lightcurve<br>â€¢ RMS not improved by higher orders</td>
                        <td>Symmetrical ellipsoidal shape<br>Two identical maxima/minima per rotation<br>Uniform surface albedo</td>
                    </tr>
                    <tr>
                        <td><strong>3</strong></td>
                        <td>Moderate asymmetry<br>â€¢ One peak higher than the other<br>â€¢ Noticeable RMS improvement over Order 2</td>
                        <td>Slight shape irregularity or albedo variation between hemispheres</td>
                    </tr>
                    <tr>
                        <td><strong>4</strong></td>
                        <td>Significant asymmetry<br>â€¢ Complex multi-peaked structure<br>â€¢ Flat-bottomed minima<br>â€¢ Sharp peaks or shoulders</td>
                        <td>Highly irregular shape (contact binary, elongated tumbler) OR <span class="glossary-term" data-definition="Eclipses or occultations between components of a binary asteroid system, causing dips or variations in the lightcurve. Can complicate period analysis.">mutual events</span> in binary asteroid systems</td>
                    </tr>
                    <tr>
                        <td><strong>5â€“6</strong></td>
                        <td>Rarely justified. Use only if:<br>â€¢ Very high SNR data (&gt;100 points)<br>â€¢ Obvious complex structure<br>â€¢ Order 4 clearly inadequate</td>
                        <td>May indicate:<br>â€¢ Binary with partial eclipses<br>â€¢ <span class="glossary-term" data-definition="Rotation of an asteroid about an axis other than its principal axis (i.e., not the axis of greatest or least inertia). Results in complex, non-periodic lightcurves.">Tumbling</span> (non-principal axis rotation)<br>â€¢ Insufficient data coverage</td>
                    </tr>
                    <tr>
                        <td><strong>7+</strong></td>
                        <td>Almost never<br>Consult with experienced observers</td>
                        <td>Likely fitting noise rather than signal<br>Requires expert interpretation</td>
                    </tr>
                </tbody>
            </table>

            <div class="tip">
                <strong>Order Selection Strategy:</strong>
                <ol>
                    <li>Start with Order 2</li>
                    <li>Increase to Order 3, check if RMS improves by &gt;10%</li>
                    <li>If yes, try Order 4</li>
                    <li>Stop when RMS improvement becomes marginal (&lt;5%)</li>
                    <li>Visually inspect: does higher order actually fit structure, or just noise?</li>
                </ol>
            </div>

            <div class="warning">
                <strong>Overfitting Danger:</strong> High <span class="glossary-term" data-definition="The number of terms (harmonics) used in the Fourier series to fit the lightcurve. Higher orders can fit more complex shapes but risk overfitting.">Fourier orders</span> can fit random noise, producing artificially low RMS values. Always visually inspect whether higher orders genuinely improve the fit or just follow data scatter. A good test: if Order 6 looks significantly better than Order 4, you may have a genuine complex shape. If it only marginally reduces RMS, stick with the lower order.
            </div>

            <h3>7.4 Validation and Quality Checks</h3>

            <h4>Aliasing Detection</h4>
            <div class="warning">
                <strong>Common Aliases:</strong> Periods near 24h, 12h, 8h, 6h may be artifacts of Earth's rotation (daily observing cadence). Be skeptical of these results.
            </div>

            <p><strong>How to check:</strong></p>
            <ul>
                <li>If your best period P â‰ˆ 24 hours, test P/2 and 2P</li>
                <li>Compare RMS and visual appearance of <span class="glossary-term" data-definition="A lightcurve that has been folded (wrapped) onto a single rotation period (phase 0.0â€“1.0), revealing the objectâ€™s brightness variation as a function of rotation phase.">phased lightcurves</span></li>
                <li>Multi-night observations break daily aliases</li>
            </ul>

            <div class="tip">
                <strong>Breaking Aliases:</strong> The most reliable way to eliminate <span class="glossary-term" data-definition="False periods introduced by the regular gaps in observing cadence (e.g., daily aliases from nightly observations). Can mimic or obscure the true rotation period of the asteroid.">aliases</span> is multi-night coverage with varying observing windows. If you observe from 20:00â€“02:00 on Night 1 and 23:00â€“05:00 on Night 2, a 24-hour alias will phase incorrectly, while the true period will phase all data coherently.
            </div>

            <h4>Lightcurve Morphology</h4>
            <p>After phasing with the best period, assess the lightcurve:</p>

            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Expected / Quality Indicator</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Symmetry</strong></td>
                        <td>Most asteroids show <span class="glossary-term" data-definition="A lightcurve with two maxima and two minima per rotation, typical of elongated asteroids viewed equator-on.">double-peaked lightcurves</span> (two maxima and two minima per rotation) due to elongated shape</td>
                    </tr>
                    <tr>
                        <td><strong>Amplitude</strong></td>
                        <td>Typical range: 0.1â€“1.0 magnitudes. Amplitude relates to axial ratio. Spherical asteroids: &lt;0.1 mag. Highly elongated: &gt;0.5 mag.</td>
                    </tr>
                    <tr>
                        <td><strong>Scatter</strong></td>
                        <td>Points should cluster tightly around the fitted curve. Large scatter indicates:<br>â€¢ Poor comp star selection<br>â€¢ Incorrect period<br>â€¢ Weather variability</td>
                    </tr>
                    <tr>
                        <td><strong>Phase Coverage</strong></td>
                        <td>Ideally, data spans all phases (0.0â€“1.0). Gaps are acceptable but reduce confidence</td>
                    </tr>
                </tbody>
            </table>

            <div class="note">
                <strong>Single-peaked lightcurves:</strong> Uncommon but possible for pole-on viewing geometries or spherical objects with surface albedo variations. Verify period by testing P/2.
            </div>

            <h4>Statistical Indicators</h4>
            <ul>
                <li><strong>RMS (Root Mean Square):</strong> Measure of fit quality. Lower is better, but compare only within the same dataset</li>
                <li><strong>Reduced Ï‡Â²:</strong> If available, values near 1.0 indicate good fit. Ï‡Â² â‰« 1 suggests underestimated errors or poor fit</li>
                <li><strong>Error bars:</strong> Display measurement uncertainties. Scatter should be consistent with error bars</li>
            </ul>

            <h3>7.5 Period Uncertainty</h3>
            <p>Canopus may report formal period uncertainty, but consider:</p>
            <ul>
                <li><strong>Statistical uncertainty:</strong> From the curvature of the RMS minimum</li>
                <li><strong>Systematic uncertainty:</strong> From observing baseline</li>
                <li>Longer time baseline â†’ better period precision</li>
                <li><strong>Rule of thumb:</strong> Ïƒ<sub>P</sub> â‰ˆ PÂ²/T where T is observing baseline</li>
            </ul>

            <div class="tip">
                <strong>Reporting periods:</strong> Use appropriate significant figures based on uncertainty. For example:
                <ul>
                    <li>If P = 5.2347 hr with Ïƒ = 0.015 hr, report: <strong>P = 5.235 Â± 0.015 hr</strong></li>
                    <li>Don't over-report precision (e.g., 8 decimal places with 2-hour baseline)</li>
                </ul>
            </div>
        </section>

        <section id="phase6">
            <h2>8. Phase 6: Data Export & Reporting</h2>

            <h3>8.1 Exporting the Lightcurve</h3>
            <p>Canopus provides several export options:</p>

            <h4>Lightcurve Plot</h4>
            <p>Use <strong><span class="glossary-term" data-definition="A menu option in MPO Canopus for saving lightcurve plots, period spectra, and data tables in various formats (e.g., PNG, PDF, CSV, TXT). Used to generate publication-ready outputs.">Print/Export</span></strong> to save the <span class="glossary-term" data-definition="A lightcurve that has been folded (wrapped) onto a single rotation period (phase 0.0â€“1.0), revealing the objectâ€™s brightness variation as a function of rotation phase.">phased lightcurve</span> as:</p>
            <ul>
                <li>Image file (PNG, JPEG) for publications</li>
                <li>PDF for reports</li>
            </ul>

            <h4>Data Tables</h4>
            <p>Export raw photometry as:</p>
            <ul>
                <li>CSV or TXT for custom analysis</li>
                <li>Includes: time (<span class="glossary-term" data-definition="Heliocentric Julian Date: The Julian Date corrected for light-travel time to the Sunâ€™s center, removing Earth's orbital motion effects.">HJD</span>/<span class="glossary-term" data-definition="Julian Date: A continuous count of days since January 1, 4713 BCE, used as a standard timekeeping system in astronomy.">JD</span>), magnitude, error, phase</li>
            </ul>

            <h4>Period Spectrum</h4>
            <p>Save the <span class="glossary-term" data-definition="A plot generated by FALC showing the RMS (Root Mean Square) residual versus trial period. Peaks and minima in the spectrum indicate candidate rotation periods for the asteroid.">period spectrum</span> to document your period search</p>

            <h3>8.2 ALCDEF Format</h3>

            <h4>What is ALCDEF?</h4>
            <p><span class="glossary-term" data-definition="Asteroid Lightcurve Data Exchange Format: The international standard for reporting asteroid photometry to the Minor Planet Center.">ALCDEF</span> (Asteroid Lightcurve Data Exchange Format) is the international standard for reporting asteroid photometry to the <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">Minor Planet Center</span>. It ensures:</p>
            <ul>
                <li>Consistent data format across observers</li>
                <li>Machine-readable for database ingestion</li>
                <li>Metadata completeness for scientific utility</li>
            </ul>

            <h4>Generating ALCDEF Files</h4>
            <ol>
                <li>In the <span class="glossary-term" data-definition="The interface in MPO Canopus for loading, phasing, and analyzing photometric data.">Lightcurve Analysis</span> window: <strong>File â†’ Export â†’ ALCDEF</strong></li>
                <li>Canopus auto-populates most fields from session metadata:
                    <ul>
                        <li>Object designation</li>
                        <li>Observer information</li>
                        <li>Filter</li>
                        <li>Comparison star details</li>
                        <li>Photometry parameters</li>
                        <li>Observation dates/times</li>
                    </ul>
                </li>
                <li>Verify all required fields are complete</li>
                <li>Save the .txt file</li>
            </ol>

            <div class="warning">
                <strong>Critical ALCDEF Fields:</strong>
                <ul>
                    <li><strong>FILTER:</strong> Must be standard notation: V, R, I, B, Clear, etc. (NOT "red filter" or "Johnson R")</li>
                    <li><strong>STANDARD:</strong> Photometric systemâ€”Johnson, Cousins, SDSS, etc.</li>
                    <li><strong>REDUCEDMAGS:</strong> Set to CALIBRATED if you entered catalog magnitudes for comp stars, otherwise DIFFERENTIAL</li>
                    <li><strong>COMPNAME:</strong> Use catalog designations (TYC, UCAC4, Gaia DR3) separated by pipes (|)</li>
                    <li><strong>MPCDESIG:</strong> Must exactly match <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">MPC</span> format (e.g., "2023 AB" not "2023AB")</li>
                </ul>
            </div>

            <h4>Required ALCDEF Metadata</h4>
            <p>Ensure these are correctly entered:</p>
            <ul>
                <li><strong>Object:</strong> Proper <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">MPC</span> designation</li>
                <li><strong>Observers:</strong> Names (first initial + last name)</li>
                <li><strong>Filter:</strong> Must use standard notation (V, R, I, Clear, etc.)</li>
                <li><strong>Magband:</strong> Photometric system (usually same as filter)</li>
                <li><strong>Observatory:</strong> <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">MPC</span> code (if assigned) or coordinates</li>
                <li><strong>Comparison stars:</strong> RA/Dec and catalog magnitudes</li>
                <li><strong>Exposure time</strong></li>
                <li><strong>Cycle time:</strong> Total time including readout</li>
            </ul>

            <div class="tip">
                <strong>ALCDEF submission:</strong> Submit files to the <span class="glossary-term" data-definition="Minor Planet Center: The official organization responsible for collecting, verifying, and disseminating data on asteroids, comets, and other minor planets.">Minor Planet Center</span>'s Asteroid Lightcurve Database (<span class="glossary-term" data-definition="Lightcurve Database: A repository of asteroid lightcurve data and derived properties (e.g., rotation periods, amplitudes) maintained by the Minor Planet Center.">LCDB</span>) via the online portal. Include contact information for follow-up questions.
            </div>

            <h3>8.3 Publication Checklist</h3>
            <p>When reporting lightcurve results (<span class="glossary-term" data-definition="Central Bureau Electronic Telegram: A service of the International Astronomical Union for rapidly disseminating astronomical discoveries (e.g., new asteroid rotation periods).">CBET</span>, journal article, etc.), include:</p>
            <ol>
                <li><strong>Rotation Period:</strong> P = X.XXX Â± 0.XXX hours</li>
                <li><strong>Amplitude:</strong> A = X.XX Â± 0.XX magnitudes</li>
                <li><strong>Observing Dates:</strong> <span class="glossary-term" data-definition="Heliocentric Julian Date: The Julian Date corrected for light-travel time to the Sunâ€™s center, removing Earth's orbital motion effects.">HJD</span> or calendar dates of observations</li>
                <li><strong>Phase Coverage:</strong> Fraction of rotation period observed</li>
                <li><strong>Photometric System:</strong> Filter and comparison methodology</li>
                <li><strong>Instrumentation:</strong> Telescope aperture, camera model</li>
                <li><strong>Phased Lightcurve Plot</strong></li>
                <li><strong>Period Spectrum:</strong> Demonstrates uniqueness of solution</li>
                <li><strong>Data Quality:</strong> RMS scatter, number of images, exposure times</li>
            </ol>
        </section>

        <section id="troubleshooting">
            <h2>9. Troubleshooting Common Issues</h2>

            <h3>9.1 Noisy or Scattered Lightcurve</h3>
            <p><strong>Symptom:</strong> Data points widely scattered around fitted curve; high <span class="glossary-term" data-definition="Root Mean Square: A statistical measure of the scatter of data points around a fitted curve. Lower RMS indicates a better fit.">RMS</span></p>
            <p><strong>Possible Causes & Solutions:</strong></p>
            <ol>
                <li><strong>Variable comparison star:</strong>
                    <ul>
                        <li>Plot comp stars against each other (Canopus has this feature)</li>
                        <li>If one deviates, remove it from the ensemble</li>
                        <li>Re-measure with revised comp star set</li>
                    </ul>
                </li>
                <li><strong>Aperture too large:</strong>
                    <ul>
                        <li>Captures excessive sky noise</li>
                        <li>Reduce aperture to 1.5Ã— <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span></li>
                    </ul>
                </li>
                <li><strong>Aperture too small:</strong>
                    <ul>
                        <li>Loses flux, especially in varying seeing</li>
                        <li>Increase to 2.5Ã— <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span></li>
                    </ul>
                </li>
                <li><strong>Poor calibration:</strong>
                    <ul>
                        <li>Check dark/flat frame quality</li>
                        <li>Ensure flats are recent and match filter</li>
                    </ul>
                </li>
                <li><strong>Atmospheric variations:</strong>
                    <ul>
                        <li>Thin clouds, variable seeing</li>
                        <li>May be unavoidable; increase observing time</li>
                    </ul>
                </li>
                <li><strong>Image quality issues not caught during preprocessing:</strong>
                    <ul>
                        <li>Re-examine <span class="glossary-term" data-definition="Full Width at Half Maximum: The diameter of a starâ€™s image at 50% of its peak intensity, measured in pixels. Used to determine the optimal aperture size for photometry.">FWHM</span> consistency (should vary &lt;20%)</li>
                        <li>Check saturation levels and star trailing</li>
                        <li>Remove problematic frames and re-measure</li>
                    </ul>
                </li>
            </ol>

            <h3>9.2 Asteroid Not Tracking Properly</h3>
            <p><strong>Symptom:</strong> Red aperture drifts off asteroid during measurement</p>
            <p><strong>Solutions:</strong></p>
            <ol>
                <li><strong>Re-select endpoints:</strong>
                    <ul>
                        <li>Return to target selection</li>
                        <li>Click asteroid more precisely in first/last images</li>
                        <li>Use zoom feature for accuracy</li>
                    </ul>
                </li>
                <li><strong>Non-linear motion:</strong>
                    <ul>
                        <li>Long sessions (&gt;6â€“8 hrs) may show curved paths</li>
                        <li>Break into 2â€“3 hour blocks</li>
                        <li>Measure separately, then combine lightcurves</li>
                    </ul>
                </li>
                <li><strong>Images out of time order:</strong>
                    <ul>
                        <li>Verify <span class="glossary-term" data-definition="FITS header information linking pixel coordinates to sky coordinates (RA/Dec).">FITS headers</span> have correct timestamps</li>
                        <li>Check file loading order in image list</li>
                    </ul>
                </li>
            </ol>

            <h3>9.3 No Clear Period Found</h3>
            <p><strong>Symptom:</strong> Period spectrum shows no distinct minimum, or all <span class="glossary-term" data-definition="Root Mean Square: A statistical measure of the scatter of data points around a fitted curve. Lower RMS indicates a better fit.">RMS</span> values similar</p>
            <p><strong>Possible Causes:</strong></p>
            <ol>
                <li><strong>Insufficient data:</strong>
                    <ul>
                        <li>Need more images or longer time baseline</li>
                        <li>Aim for &gt;1 complete rotation</li>
                    </ul>
                </li>
                <li><strong>Very slow rotator:</strong>
                    <ul>
                        <li>Period &gt;24 hours requires multi-night observations</li>
                        <li>Extend search range to 48+ hours</li>
                    </ul>
                </li>
                <li><strong>Very fast rotator:</strong>
                    <ul>
                        <li>Period &lt;2 hours (rare but possible for small asteroids)</li>
                        <li>Ensure time resolution is adequate</li>
                        <li>May require shorter exposures</li>
                    </ul>
                </li>
                <li><strong>Low amplitude:</strong>
                    <ul>
                        <li>Nearly spherical asteroids (A &lt; 0.05 mag)</li>
                        <li>Signal buried in noise</li>
                        <li>Need higher photometric precision</li>
                    </ul>
                </li>
                <li><strong>Pole-on view:</strong>
                    <ul>
                        <li>Viewing asteroid down its rotation axis</li>
                        <li>Little to no brightness variation</li>
                        <li>Consider observing at different <span class="glossary-term" data-definition="A period during which an asteroid is observable from Earth, typically lasting several months.">apparition</span></li>
                    </ul>
                </li>
            </ol>

            <h3>9.4 Comparison Stars Showing Variability</h3>
            <p><strong>Symptom:</strong> When plotting comp stars against each other, one or more show trends or variations</p>
            <p><strong>Solutions:</strong></p>
            <ol>
                <li>Identify the variable star(s)</li>
                <li>Remove from comparison ensemble</li>
                <li>If possible, add new comparison stars to replace</li>
                <li>Re-measure the session</li>
                <li>Cross-check remaining comp stars against <span class="glossary-term" data-definition="Variable Star Index: An online database of known variable stars, used to check comparison stars for variability.">VSX</span> catalog</li>
            </ol>

            <h3>9.5 Saturated Stars</h3>
            <p><strong>Symptom:</strong> Canopus reports saturation warnings, or stars show flat-topped profiles</p>
            <p><strong>Solutions:</strong></p>
            <ol>
                <li><strong>If asteroid is saturated:</strong>
                    <ul>
                        <li>Cannot be salvaged â€” must re-observe with shorter exposures</li>
                    </ul>
                </li>
                <li><strong>If only comp stars are saturated:</strong>
                    <ul>
                        <li>Select fainter comparison stars</li>
                        <li>Re-measure with new comp set</li>
                    </ul>
                </li>
                <li><strong>Prevention:</strong>
                    <ul>
                        <li>Pre-check saturation before long observing runs</li>
                        <li>Keep peak counts &lt;60% of sensor full well</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section id="advanced">
            <h2>10. Advanced Topics</h2>

            <h3>10.1 Multi-Night Observations</h3>
            <p>Combining data from multiple nights improves:</p>
            <ul>
                <li>Period precision (longer time baseline)</li>
                <li><span class="glossary-term" data-definition="The fraction of an asteroidâ€™s rotation period observed during a session. Full phase coverage (0.0â€“1.0) is ideal for accurate period determination.">Phase coverage</span></li>
                <li>Alias rejection (breaks daily cadence)</li>
            </ul>

            <p><strong>Procedure:</strong></p>
            <ol>
                <li>Create separate <span class="glossary-term" data-definition="A collection of images, settings, and measurements in MPO Canopus representing a single observing run or analysis.">sessions</span> for each night</li>
                <li>Use identical comparison stars across nights (if possible)</li>
                <li>In <span class="glossary-term" data-definition="The interface in MPO Canopus for loading, phasing, and analyzing photometric data.">Lightcurve Analysis</span>, load multiple sessions simultaneously</li>
                <li><span class="glossary-term" data-definition="Fourier Analysis of Light Curves: The algorithm in Canopus that determines the rotation period by fitting Fourier series to phased lightcurve data.">FALC</span> will analyze combined dataset</li>
            </ol>

            <div class="note">
                <strong>NOTE:</strong> For multi-night data, differential photometry is essential. Absolute calibration variations between nights will introduce offsets.
            </div>

            <h4>Zero Point Shift Tool: Aligning Multi-Night Data</h4>
            <p>When combining observations from different nights, atmospheric conditions, instrument configuration, or comparison star availability may cause systematic magnitude offsets between datasets.</p>

            <div class="warning">
                <strong>When Zero Point Shifts Are Needed:</strong>
                <ul>
                    <li>Different atmospheric transparency between nights</li>
                    <li>Changed comparison star ensemble</li>
                    <li>Different telescope or camera used</li>
                    <li>Filter swapped or cleaned between sessions</li>
                </ul>
                <p>These produce vertical offsets in the lightcurve that don't affect the period but reduce overall fit quality.</p>
            </div>

            <p><strong>Using the <span class="glossary-term" data-definition="A tool in MPO Canopus for aligning the magnitude zero points of multiple photometric sessions. Corrects systematic offsets caused by differences in atmospheric conditions, instrumentation, or comparison stars between nights.">Zero Point Shift Tool</span> in Canopus:</strong></p>
            <ol>
                <li>Load multiple sessions into Lightcurve Analysis</li>
                <li>Phase the data with your best-fit period</li>
                <li>Navigate to: <strong>Analysis â†’ Zero Point Adjustment</strong> (or similar menu item)</li>
                <li>Canopus will display each session's data in different colors</li>
                <li>Options for alignment:
                    <ul>
                        <li><strong>Automatic:</strong> Canopus minimizes RMS by shifting each session vertically</li>
                        <li><strong>Manual:</strong> You specify the offset for each session (in magnitudes)</li>
                        <li><strong>Reference Session:</strong> Choose one session as the reference (zero shift); others are adjusted relative to it</li>
                    </ul>
                </li>
                <li>Click <strong>Apply Shifts</strong></li>
                <li>Re-run FALC to generate combined fit</li>
            </ol>

            <div class="tip">
                <strong>Best Practices for Multi-Night Photometry:</strong>
                <ul>
                    <li>Always use the same comparison star ensemble across nights if possible</li>
                    <li>If comp stars must change, ensure at least 1â€“2 stars overlap between nights</li>
                    <li>Document any changes in observing setup (filters, cameras, etc.)</li>
                    <li>The zero point shift should be &lt;0.3 mag for good differential photometry</li>
                    <li>If shifts are &gt;0.5 mag, investigate: possible star misidentification or bad calibration</li>
                </ul>
            </div>

            <h3>10.2 Composite Lightcurves</h3>
            <p>Combining data from different observers/telescopes:</p>
            <ul>
                <li>Each dataset must be internally consistent (same comp stars per dataset)</li>
                <li>Import data into Canopus as separate sessions</li>
                <li>Phase all data to common period</li>
                <li>May require magnitude offsets between datasets</li>
            </ul>

            <h3>10.3 Fast Rotators (Period &lt; 2 hours)</h3>
            <p>Special considerations:</p>
            <ul>
                <li>Exposure time must be short (&lt; 5% of period) to avoid rotational smearing</li>
                <li>Need many images per rotation (20+ recommended)</li>
                <li>Timing accuracy becomes critical</li>
                <li>Verify FITS timestamp precision (sub-second accuracy needed)</li>
            </ul>

            <h3>10.4 Sparse Data and Incomplete Coverage</h3>
            <p>If <span class="glossary-term" data-definition="The fraction of an asteroidâ€™s rotation period observed during a session. Full phase coverage (0.0â€“1.0) is ideal for accurate period determination.">phase coverage</span> is poor:</p>
            <ul>
                <li>Period determination becomes less certain</li>
                <li>May have multiple equally good solutions</li>
                <li>Amplitude measurement is unreliable</li>
                <li>Additional observations recommended before publication</li>
            </ul>

            <h3>10.5 Shape and Pole Modeling</h3>
            <p>High-quality lightcurves from multiple <span class="glossary-term" data-definition="A period during which an asteroid is observable from Earth, typically lasting several months.">apparitions</span> enable:</p>
            <ul>
                <li><span class="glossary-term" data-definition="A mathematical method for reconstructing the 3D shape of an asteroid from its lightcurves observed at multiple viewing geometries. Assumes the asteroid is a convex body.">Convex inversion</span> (convex inversion methods)</li>
                <li>Spin pole determination</li>
                <li>This is beyond Canopus scope â€” requires specialized software</li>
                <li>Examples: <span class="glossary-term" data-definition="
                  <strong>KOALA:</strong> Knitted Occultation, Adaptive-optics, and Lightcurve Analysis. A tool for combining occultation, adaptive optics, and lightcurve data to model asteroid shapes.<br>
                  <strong>DAMIT:</strong> Database of Asteroid Models from Inversion Techniques. A collection of 3D asteroid shape models derived from lightcurve inversion.
                ">KOALA</span>, <span class="glossary-term" data-definition="
                  <strong>KOALA:</strong> Knitted Occultation, Adaptive-optics, and Lightcurve Analysis. A tool for combining occultation, adaptive optics, and lightcurve data to model asteroid shapes.<br>
                  <strong>DAMIT:</strong> Database of Asteroid Models from Inversion Techniques. A collection of 3D asteroid shape models derived from lightcurve inversion.
                ">DAMIT</span> database</li>
            </ul>

            <p>For these studies, maximize:</p>
            <ul>
                <li>Number of apparitions (different viewing geometries)</li>
                <li>Phase coverage per apparition</li>
                <li>Photometric precision (&lt;0.02 mag RMS)</li>
            </ul>
        </section>

        <section id="checklist">
            <h2>11. Quick Reference Checklist</h2>
            <p>Use this checklist to ensure you've completed all critical steps:</p>

            <div class="checklist">
                <h3>11.1 Pre-Processing Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Images calibrated (bias/dark/flat applied)</label></li>
                    <li><label><input type="checkbox"> FWHM measured (all images within 20%)</label></li>
                    <li><label><input type="checkbox"> Saturation checked (target and comp stars &lt;60k ADU)</label></li>
                    <li><label><input type="checkbox"> Trailed or defective images removed</label></li>
                    <li><label><input type="checkbox"> Minimum 40â€“50 images available</label></li>
                    <li><label><input type="checkbox"> Files organized in dedicated folder</label></li>
                </ul>

                <h3>11.2 Software Setup Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Correct equipment profile selected</label></li>
                    <li><label><input type="checkbox"> Images loaded successfully</label></li>
                    <li><label><input type="checkbox"> Aperture radius set to 2Ã— FWHM</label></li>
                    <li><label><input type="checkbox"> Sky annulus parameters configured</label></li>
                    <li><label><input type="checkbox"> Aperture visually verified on test star</label></li>
                </ul>

                <h3>11.3 Target Selection Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Asteroid identified and clicked in first image</label></li>
                    <li><label><input type="checkbox"> Asteroid identified and clicked in last image</label></li>
                    <li><label><input type="checkbox"> Motion vector appears reasonable</label></li>
                    <li><label><input type="checkbox"> Session name entered (descriptive)</label></li>
                    <li><label><input type="checkbox"> Object number/name matches MPC database</label></li>
                    <li><label><input type="checkbox"> Filter correctly specified</label></li>
                    <li><label><input type="checkbox"> Observer code entered (if applicable)</label></li>
                    <li><label><input type="checkbox"> HJD time format selected</label></li>
                </ul>

                <h3>11.4 Comparison Star Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> 3â€“5 comp stars selected</label></li>
                    <li><label><input type="checkbox"> All comp stars non-saturated</label></li>
                    <li><label><input type="checkbox"> Comp stars similar brightness to asteroid</label></li>
                    <li><label><input type="checkbox"> Comp stars checked against VSX (no known variables)</label></li>
                    <li><label><input type="checkbox"> Comp stars spatially distributed</label></li>
                    <li><label><input type="checkbox"> Comp stars not in asteroid's path</label></li>
                    <li><label><input type="checkbox"> Catalog magnitudes entered (if calibrated photometry desired)</label></li>
                </ul>

                <h3>11.5 Measurement Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Measurement started</label></li>
                    <li><label><input type="checkbox"> Asteroid tracking verified visually</label></li>
                    <li><label><input type="checkbox"> No error messages during processing</label></li>
                    <li><label><input type="checkbox"> Measurement completed successfully</label></li>
                    <li><label><input type="checkbox"> Session saved to database</label></li>
                </ul>

                <h3>11.6 Analysis Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Session loaded in Lightcurve Analysis</label></li>
                    <li><label><input type="checkbox"> Coarse period search completed (2â€“20 hr range)</label></li>
                    <li><label><input type="checkbox"> Candidate period(s) identified</label></li>
                    <li><label><input type="checkbox"> Fine period search performed</label></li>
                    <li><label><input type="checkbox"> Optimal Fourier order determined (typically 2â€“4)</label></li>
                    <li><label><input type="checkbox"> Phased lightcurve inspected for quality</label></li>
                    <li><label><input type="checkbox"> Double-peaked structure observed (typical)</label></li>
                    <li><label><input type="checkbox"> Amplitude in reasonable range (0.1â€“1.0 mag)</label></li>
                    <li><label><input type="checkbox"> Aliasing checked (period not near 24h, 12h, etc.)</label></li>
                    <li><label><input type="checkbox"> Data scatter consistent with error bars</label></li>
                </ul>

                <h3>11.7 Export & Reporting Phase</h3>
                <ul class="interactive-list">
                    <li><label><input type="checkbox"> Lightcurve plot exported (PNG/PDF)</label></li>
                    <li><label><input type="checkbox"> Period spectrum saved</label></li>
                    <li><label><input type="checkbox"> Data table exported (CSV/TXT)</label></li>
                    <li><label><input type="checkbox"> ALCDEF file generated</label></li>
                    <li><label><input type="checkbox"> ALCDEF metadata verified complete</label></li>
                    <li><label><input type="checkbox"> Period and uncertainty documented</label></li>
                    <li><label><input type="checkbox"> Amplitude documented</label></li>
                    <li><label><input type="checkbox"> Publication checklist items prepared</label></li>
                </ul>
            </div>
        </section>

        <section id="resources">
            <h2>12. Additional Resources</h2>

            <h3>12.1 Software & Tools</h3>
            <ul>
                <li><strong>MPO Canopus:</strong> <a href="https://minorplanetobserver.com/">https://minorplanetobserver.com/</a></li>
                <li><strong>DS9 Image Viewer:</strong> <a href="https://sites.google.com/cfa.harvard.edu/saoimageds9">https://sites.google.com/cfa.harvard.edu/saoimageds9</a></li>
                <li><strong>Astrometrica:</strong> <a href="http://www.astrometrica.at/">http://www.astrometrica.at/</a> (plate solving)</li>
            </ul>

            <h3>12.2 Catalogs & Databases</h3>
            <ul>
                <li><strong>Minor Planet Center:</strong> <a href="https://minorplanetcenter.net/">https://minorplanetcenter.net/</a></li>
                <li><strong>VSX (Variable Star Index):</strong> <a href="https://www.aavso.org/vsx/">https://www.aavso.org/vsx/</a></li>
                <li><strong>APASS (photometric catalog):</strong> <a href="https://www.aavso.org/apass">https://www.aavso.org/apass</a></li>
                <li><strong>LCDB (Lightcurve Database):</strong> <a href="https://alcdef.org/">https://alcdef.org/</a></li>
                <li><strong>Gaia Archive:</strong> <a href="https://gea.esac.esa.int/archive/">https://gea.esac.esa.int/archive/</a></li>
            </ul>

            <h3>12.3 Educational Materials</h3>
            <ul>
                <li><strong>ALCDEF Standard:</strong> <a href="https://alcdef.org/alcdef-standard">https://alcdef.org/alcdef-standard</a></li>
                <li><strong>MPO Canopus Manual:</strong> Included with software installation</li>
                <li><strong>Asteroid Photometry Handbook:</strong> Available from MPO website</li>
            </ul>

            <h3>12.4 Scientific Background</h3>
            <ul>
                <li>Harris et al., "Photoelectric Observations of Asteroids," <em>Icarus</em> (various)</li>
                <li>Pravec et al., "Asteroid Rotations," chapter in <em>Asteroids IV</em> (2015)</li>
                <li>Warner et al., "The Asteroid Lightcurve Database," <em>Icarus</em> 202, 134 (2009)</li>
            </ul>
        </section>

        <footer>
            <p>This guide is intended as a practical reference and does not replace the official MPO Canopus documentation. Always consult the latest software manual for version-specific features and updates.</p>
            <p style="margin-top: 10px;">Community-created guide â€¢ Not affiliated with MPO Software â€¢ Last updated February 3, 2026</p>
            <p style="margin-top: 10px;"><em>Clear skies!</em></p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkboxes = document.querySelectorAll('.interactive-list input[type="checkbox"]');

            checkboxes.forEach((box, index) => {
                const storageId = 'mpo_guide_checkbox_' + index;
                const savedState = localStorage.getItem(storageId);
                if (savedState === 'true') {
                    box.checked = true;
                    box.closest('li').style.textDecoration = 'line-through';
                    box.closest('li').style.opacity = '0.7';
                }

                box.addEventListener('change', () => {
                    localStorage.setItem(storageId, box.checked);
                    if (box.checked) {
                        box.closest('li').style.textDecoration = 'line-through';
                        box.closest('li').style.opacity = '0.7';
                    } else {
                        box.closest('li').style.textDecoration = 'none';
                        box.closest('li').style.opacity = '1';
                    }
                });
            });
        });
    </script>
</body>
</html>
